
    <div class="container py-4">
      <div class="row justify-content-center">
        <div class="col-md-8">
          <div class="card shadow-sm">
            <div class="card-header bg-primary text-white">
              <h4 class="mb-0">Payment Details</h4>
            </div>
            <div class="card-body">
              <!-- Booking Summary -->
              <div class="alert alert-info" *ngIf="booking">
                <div class="d-flex justify-content-between align-items-center">
                  <div>
                     <h5 class="mb-1">Booking #{{getBookingId(booking)}}</h5>
                    <p class="mb-0">{{booking.passengerName}}</p>
                     <small class="text-muted">{{getFlightRoute(booking)}}</small>
                  </div>
                  <div class="text-end">
                    <h5 class="mb-1">₹{{getBookingAmount()}}</h5>
                    <small>{{booking.bookingDate | date}}</small>
                  </div>
                </div>
              </div>

              <form #paymentForm="ngForm" (ngSubmit)="onSubmit()" class="needs-validation" novalidate>
                <!-- Card Number -->
                <div class="mb-3">
                  <label for="cardNumber" class="form-label">Card Number *</label>
                  <input
                    type="text"
                    class="form-control"
                    id="cardNumber"
                    name="cardNumber"
                    [(ngModel)]="payment.cardNumber"
                    #cardNumber="ngModel"
                    required
                    pattern="^[0-9]{16}$"
                    maxlength="16"
                    placeholder="1234 5678 9012 3456"
                    (input)="formatCardNumber($event)"
                    [class.is-invalid]="cardNumber.invalid && (cardNumber.dirty || cardNumber.touched)">
                  <div class="invalid-feedback" *ngIf="cardNumber.errors?.['required']">
                    Card number is required
                  </div>
                  <div class="invalid-feedback" *ngIf="cardNumber.errors?.['pattern']">
                    Please enter a valid 16-digit card number
                  </div>
                </div>

                <div class="row">
                  <!-- Expiry -->
                  <div class="col-md-6 mb-3">
                    <label for="expiry" class="form-label">Expiry (MM/YY) *</label>
                    <input
                      type="text"
                      class="form-control"
                      id="expiry"
                      name="expiry"
                      [(ngModel)]="payment.expiry"
                      #expiry="ngModel"
                      required
                      pattern="^(0[1-9]|1[0-2])\/([0-9]{2})$"
                      maxlength="5"
                      placeholder="MM/YY"
                      (input)="formatExpiry($event)"
                      [class.is-invalid]="expiry.invalid && (expiry.dirty || expiry.touched)">
                    <div class="invalid-feedback" *ngIf="expiry.errors?.['required']">
                      Expiry date is required
                    </div>
                    <div class="invalid-feedback" *ngIf="expiry.errors?.['pattern']">
                      Please enter a valid expiry date (MM/YY)
                    </div>
                  </div>

                  <!-- CVV -->
                  <div class="col-md-6 mb-3">
                    <label for="cvv" class="form-label">CVV *</label>
                    <input
                      type="password"
                      class="form-control"
                      id="cvv"
                      name="cvv"
                      [(ngModel)]="payment.cvv"
                      #cvv="ngModel"
                      required
                      pattern="^[0-9]{3,4}$"
                      [class.is-invalid]="cvv.invalid && (cvv.dirty || cvv.touched)">
                    <div class="invalid-feedback" *ngIf="cvv.errors?.['required']">
                      CVV is required
                    </div>
                    <div class="invalid-feedback" *ngIf="cvv.errors?.['pattern']">
                      Please enter a valid CVV (3 or 4 digits)
                    </div>
                  </div>
                </div>

                <!-- Submit Button -->
                <div class="d-grid gap-2">
                  <button 
                    type="submit" 
                    class="btn btn-primary"
                    [disabled]="paymentForm.invalid || isLoading">
                    <span *ngIf="isLoading" class="spinner-border spinner-border-sm me-2"></span>
                    Pay ₹{{getBookingAmount()}}
                  </button>
                  <button 
                    type="button" 
                    class="btn btn-outline-secondary"
                    (click)="goBack()"
                    [disabled]="isLoading">
                    Cancel
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  